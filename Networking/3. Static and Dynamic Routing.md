### **1. Static Routing (Manual Routing)**

**Static Routing** is when the network **administrator** manually configures the paths (routes) that packets should take to travel across the network. The routes don’t change unless the administrator manually changes them.

```
ip route [destination network] [subnet mask] [next hop IP address]
```

### 2.**Dynamic Routing (Automatic Routing)**

**Dynamic Routing** is when routers **automatically communicate** with each other using **routing protocols** (like RIP, OSPF, EIGRP, or BGP) to share information about the network topology. These routers constantly **update** their routing tables to reflect changes in the network.

EX: RIP,OSPF,BGP,EIGRP

## RIP
<p align="justify">The Routing Information Protocol is a distance vector routing protocol that helps routers determine the best path to transfer data packets across the network. It uses `hop count` as its metric for determining the best path, but the maximum hop count allowed in the RIP is 15.</p>

### What is Hop Count?
<p align="justify">Hop count is the number of routers occurring between the source and destination network. The path with the lowest hop count is considered the best route to reach a network and therefore placed in the routing table. RIP prevents routing loops by limiting the hops allowed in a path from source to destination. The maximum hop count allowed for RIP is 15 and a hop count of 16 is considered as network unreachable.</p>

### Key Concepts

1. **Distance Vector**: RIP is a **distance-vector** protocol, meaning it relies on the concept of "distance" (in hops) and "direction" (which router to send packets to). Each router periodically sends out its routing table to its neighbors.
    
2. **Routing Table**: Each router maintains a routing table with the following key information:
    
    - **Destination Network**: The destination network address.
    - **Next Hop**: The next router or hop to reach the destination.
    - **Hop Count**: The number of hops to reach the destination.
3. **Hop Count**: The metric used by RIP to determine the shortest path. A path with fewer hops is preferred. However, RIP has a limit of 15 hops, making it unsuitable for large networks.
    
4. **Updates and Timers**: RIP routers send full routing tables to their neighbors every 30 seconds. It also uses several timers to manage routing information:
    
    - **Update Timer**: Controls the frequency of updates (default is 30 seconds).
    - **Invalid Timer**: After 180 seconds of not receiving an update for a route, the route is marked invalid.
    - **Holddown Timer**: Prevents a router from immediately accepting a route change that could cause a loop.
    - **Flush Timer**: If a route has been invalid for 240 seconds, it is removed from the routing table.

#### **RIP Message Types**

RIP uses different types of messages for communication:
- **Request Message**: A router requests routing updates from neighbors.
- **Response Message**: A router replies with its routing table.
- **Route Poisoning**: If a route becomes unreachable, it is advertised with a hop count of **16**.

![[Pasted image 20241220215805.png]]

#### **Versions of RIP**

RIP has evolved into different versions:

|**Version**|**Key Features**|
|---|---|
|**RIP v1** (1988)|- **Classful Routing** (No support for subnet masks).  <br>- Broadcasts routing updates.|
|**RIP v2** (1993)|- **Classless Routing** (Supports subnet masks, VLSM).  <br>- Uses **Multicast (224.0.0.9)** for efficient updates.  <br>- Supports authentication for security.|
|**RIPng** (1997)|- Supports **IPv6**.  <br>- Uses **Multicast (FF02::9)** for updates.  <br>- Removes authentication (relies on IPsec).|
#### **4. RIP Metric Calculation**
RIP uses **hop count** as its metric:
- Each router hop is counted as **1**.
- The maximum number of hops allowed is **15**.
- A hop count of **16 or more** is considered **unreachable**.
#### **How RIP Works? (Step-by-Step)**

1. **Router Initialization**: Each router initializes its routing table with directly connected networks.
2. **Periodic Updates**: Every **30 seconds**, routers exchange their routing tables.
3. **Best Path Selection**: The router selects the shortest path based on **hop count**.
4. **Loop Prevention**: Implements **Split Horizon, Route Poisoning, and Hold-Down timers** to avoid routing loops.
5. **Convergence**: Over time, all routers in the network learn the best paths.

- We need to connect routers with a diff ip and add that info to the routing cable so that routers can adverttise its routing table and identify the subnets within it

### Complete RIP Configuration Guide (Basic to Advanced) must be done on router
## 1. Enable RIP

```plaintext
Router(config)# router rip
```

Starts the RIP process.
## 2. Advertise Networks

```plaintext
Router(config-router)# network <network-address>
```

Example:

```plaintext
Router(config-router)# network 192.168.1.0
Router(config-router)# network 10.0.0.0
```

This tells the router to advertise these networks using RIP.
## 3. Configure RIP Version 2 (Advanced)

By default, RIP runs version 1, which does not support VLSM/subnetting. Enable RIP v2:

```plaintext
Router(config-router)# version 2
```
## 4. Disable Auto-Summarization (Advanced)

RIP automatically summarizes networks. Disable this if using subnetted networks:

```plaintext
Router(config-router)# no auto-summary
```
## **5. Set Passive Interface (Advanced)**

If you don't want RIP updates to be sent on an interface but still want to receive them:

```plaintext
Router(config-router)# passive-interface <interface-name>
```

Example:

```plaintext
Router(config-router)# passive-interface GigabitEthernet0/1
```
## **6. Adjust RIP Timers (Advanced)**

Modify RIP update intervals (optional):

```plaintext
Router(config-router)# timers basic <update> <invalid> <holddown> <flush>
```

Example:

```plaintext
Router(config-router)# timers basic 30 180 180 240
```

- **Update:** RIP broadcasts updates (default: 30 sec).
- **Invalid:** Time before a route is considered invalid (default: 180 sec).
- **Holddown:** Time before removing a failed route (default: 180 sec).
- **Flush:** Time before a removed route is completely deleted (default: 240 sec).

## **7. Configure Route Authentication (Advanced)**

To secure RIP updates using MD5 authentication:

```plaintext
Router(config)# key chain RIP_AUTH
Router(config-keychain)# key 1
Router(config-keychain-key)# key-string SecurePass
Router(config-keychain-key)# exit
Router(config)# interface <interface-name>
Router(config-if)# ip rip authentication key-chain RIP_AUTH
Router(config-if)# ip rip authentication mode md5
```
## **8. Verify RIP Configuration**

### **Check Routing Table**

```plaintext
Router# show ip route
```

Displays learned RIP routes.
### **Check RIP Settings**

```plaintext
Router# show ip protocols
```

Shows active RIP settings.
### **Check RIP Neighbors**

```plaintext
Router# show ip rip database
```

### **Debugging RIP Updates (Advanced)**

```plaintext
Router# debug ip rip
```

Displays live RIP updates.
### **Stop Debugging**

```plaintext
Router# undebug all
```
## **9. Remove RIP Configuration**

To disable RIP:

```plaintext
Router(config)# no router rip
```
### **Complete Example (Basic to Advanced)**

```plaintext
Router(config)# router rip
Router(config-router)# version 2
Router(config-router)# no auto-summary
Router(config-router)# network 192.168.1.0
Router(config-router)# network 10.0.0.0
Router(config-router)# passive-interface GigabitEthernet0/1
Router(config-router)# timers basic 30 180 180 240
Router(config)# key chain RIP_AUTH
Router(config-keychain)# key 1
Router(config-keychain-key)# key-string SecurePass
Router(config-keychain-key)# exit
Router(config)# interface GigabitEthernet0/1
Router(config-if)# ip rip authentication key-chain RIP_AUTH
Router(config-if)# ip rip authentication mode md5
Router(config-router)# exit
Router# write memory
```


## OSPF
<p align="justify">OSPF is a link-state routing protocol used within an Autonomous System (AS), typically for routing within an enterprise or a large network. It’s designed to find the best path for data to travel from one point to another based on the network's topology. OSPF is one of the most commonly used Interior Gateway Protocols (IGP), especially in larger and more complex networks</p>

### Interior Gateway Protocol
An **Interior Gateway Protocol (IGP)** is a type of **routing protocol** used to exchange routing information **within a single Autonomous System (AS)**. IGPs are responsible for finding the best path between routers inside an organization's network.

### **What is an Autonomous System (AS)?**

<p align="justify">An Autonomous System (AS) is a collection of IP networks and routers under a single administrative control, such as an ISP (Internet Service Provider), a large enterprise, or a university. Each AS is assigned a unique Autonomous System Number (ASN), which helps in routing traffic across different networks using the Border Gateway Protocol (BGP).</p>
### Key Concepts

- OSPF is a **link-state protocol**, meaning that each router sends out information about its direct connections (or "links") to other routers in the network. Each router builds a database of the network’s topology based on the information shared by its neighbors.
- OSPF uses **Dijkstra’s Shortest Path First (SPF)** algorithm to calculate the shortest path to every destination in the network.
- OSPF assigns a **cost** to each link, and this cost is used in determining the best route. The lower the cost, the more preferable the path.
- **Link-State Advertisement (LSA)**: A packet that contains information about the router's neighbors and the state of its links.
- **Link-State Database (LSDB)**: A database that stores information about the network topology, built from the LSAs received from neighboring routers.

### **OSPF Packet Types**:

OSPF routers communicate by sending five main types of packets:

1. **Hello Packet**:
    
    - Used to discover and maintain neighbor relationships.
    - Routers exchange Hello packets to ensure they can communicate with each other.
2. **DBD (Database Description) Packet**:
    
    - Used to summarize and compare the contents of the LSDB between routers.
3. **LSR (Link-State Request) Packet**:
    
    - Sent by a router to request more specific LSAs from a neighbor.
4. **LSU (Link-State Update) Packet**:
    
    - Contains the actual LSAs and is used to send detailed information about the network.
5. **LSAck (Link-State Acknowledgment) Packet**:
    
    - Acknowledges the receipt of LSUs, ensuring reliable delivery.

### **OSPF Process and Working:**
1. **Neighbor Discovery**:
-  **Hello Packets** are sent by routers to discover other OSPF routers on the network. Routers use these packets to agree on **parameters** like router ID, area ID, and authentication methods. Once two routers receive each other's Hello packets, they establish a **neighbor relationship**.
2. **Exchange of Link-State Information**:
- Once a neighbor relationship is established, routers exchange **DBD packets**, which summarize the contents of their LSDBs. If routers discover they have different information, they request more detailed data using **LSR packets**, and the needed information is sent in **LSU packets**.

3. **Link-State Database Synchronization**:
- Routers then update their **LSDB** with the new information, ensuring that they have an accurate and synchronized map of the network.

4. **Shortest Path Calculation**:
- After building the LSDB, each router runs **Dijkstra’s SPF algorithm** to calculate the **shortest path** to every destination network. This process is based on the cost of the links.

5. **Routing Table Update**:
-  After the SPF calculation, the router installs the best routes into its **routing table**. These routes are used to forward packets to their destination.

###  **OSPF Areas and Hierarchy**:

OSPF allows networks to be organized into multiple **areas**. The key idea is that dividing a network into areas reduces the size of the LSDB and the amount of routing information exchanged.

- **Area 0 (Backbone Area)**: The central area in OSPF. All other areas must be connected to it.
- **Non-Backbone Areas**: Other areas connected to Area 0. These areas can contain routers that only need to know about the network within their own area.
- **ABRs (Area Border Routers)**: Routers that connect multiple OSPF areas and summarize routes between them.
- **ASBRs (Autonomous System Boundary Routers)**: Routers that connect OSPF to external networks and inject external routes into OSPF.

### **Single-Area OSPF:**  
A routing configuration where all routers belong to the **same OSPF area** (usually Area 0). Every router maintains a **complete map of the network**, leading to higher overhead in large networks.Point-to-Point OSPF (Open Shortest Path First) refers to an OSPF network type where there is a direct connection between two routers without the need for a Designated Router (DR) or Backup Designated Router (BDR).

### **Multi-Area OSPF:**  
A scalable OSPF setup where the network is divided into **multiple areas**, with **Area 0 (Backbone Area)** connecting all other areas. **Area Border Routers (ABRs)** summarize and exchange routing information between areas, reducing overhead and improving efficiency.

#### **What is a Wildcard Mask?**

A wildcard mask is the inverse of a subnet mask. It is used in OSPF and access control lists (ACLs) to specify which IP addresses should be matched.

```
Wildcard Mask=255.255.255.255−Subnet Mask
```

### **Types of OSPF Routers in Multi-Area OSPF**

| Router Type                                  | Function                                                      |
| -------------------------------------------- | ------------------------------------------------------------- |
| **Internal Router (IR)**                     | Belongs to only one area and has all interfaces in that area. |
| **Backbone Router (BR)**                     | Belongs to Area 0 and helps in inter-area communication.      |
| **Area Border Router (ABR)**                 | Connects multiple areas (e.g., Area 1 to Area 0).             |
| **Autonomous System Boundary Router (ASBR)** | Connects OSPF to external networks (e.g., BGP, RIP).          |
## OSPF Troubleshooting Tools

Useful OSPF troubleshooting tools include:
- **show ip ospf** : Displays OSPF process information and statistics.
- **show ip ospf neighbor** : Displays OSPF neighbor information.
- **show ip ospf database** : Displays the LSDB contents.
