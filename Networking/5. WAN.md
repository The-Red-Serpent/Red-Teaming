### Point-to-Point Protocol
The **Point-to-Point Protocol (PPP)** is a **layer 2 (Data Link Layer) protocol** used for establishing direct communication between two network nodes. It is mainly used for serial connections, such as dial-up internet access, DSL, and VPNs.

**PPP (Point-to-Point Protocol)** is mainly used for **data transfer** over a **direct physical connection** between two devices. It requires a **dedicated** or **point-to-point** link, typically established using a **serial cable** or other **WAN technologies**.

A **network node** is any **device** in a network that can **send, receive, or process** data.

### PPP Encapsulation
**PPP Encapsulation** is the process of adding **PPP headers and trailers** to data before transmitting it over a network. This ensures that data can travel across a **point-to-point** connection while supporting multiple Layer 3 protocols like **IP, IPv6, and IPX**.

### PPP Authentication

PPP (**Point-to-Point Protocol**) provides an optional **authentication** mechanism to verify the identity of the connecting device before data transmission. It supports two main authentication protocols:

1. **PAP (Password Authentication Protocol)** ‚Äì Basic, less secure.
    
2. **CHAP (Challenge Handshake Authentication Protocol)** ‚Äì More secure, uses encryption.

### **PAP (Password Authentication Protocol)**

PAP is a **simple authentication** method where the **username and password** are sent **in plaintext** over the network.

#### **PAP Authentication Process:**

1. The client sends a **username** and **password** to the server in **cleartext**.
    
2. The server checks the credentials.
    
3. If correct, access is granted; otherwise, access is denied.
    

üî¥ **Disadvantages of PAP:**

- **Weak security** because passwords are sent in cleartext.
    
- **Vulnerable to eavesdropping and MITM attacks**.

### **2. CHAP (Challenge Handshake Authentication Protocol)**

CHAP is a **more secure authentication method** that uses a **challenge-response mechanism** with hashing.

#### **CHAP Authentication Process:**

1. The server sends a **challenge** (random number) to the client.
2. The client **hashes** the challenge + password using **MD5** and sends it back.
3. The server **compares** the received hash with its own computed hash.
4. If they match, authentication is successful.


### Multi-Protocol Label Switching
<p align="justify">MPLS (**Multiprotocol Label Switching**) is a **high-performance routing technique** that directs data packets using **labels instead of IP addresses**. It operates between **Layer 2 (Data Link Layer)** and **Layer 3 (Network Layer)** of the OSI model, making it a **Layer 2.5 protocol**.</p>

<p align="justify">Instead of traditional **IP-based routing**, where each router **examines the packet‚Äôs destination IP and performs a routing table lookup**, **MPLS assigns a label to each packet**. These labels allow routers to **quickly switch packets along predefined paths**, reducing latency and improving performance.</p>
### Working of MPLS
### **Step 1: Packet Enters MPLS Network (Label Assignment)**

- The first router, called the **Label Edge Router (LER)**, examines the **destination IP**.
    
- Instead of performing **IP routing at every hop**, it **assigns a label** to the packet.
    
- Example:
    
    - IP Packet: **Destination: 192.168.1.1**
        
    - Assigned Label: **1001**
        

---

### **Step 2: Packet Travels Through MPLS Core (Label Switching)**

- Inside the **MPLS core**, intermediate routers are called **Label Switch Routers (LSRs)**.
    
- These routers **do not check the destination IP**.
    
- Instead, they **read the label** and forward the packet based on a predefined **Label Forwarding Table (LFIB)**.
    
- Example:
    
    - Router 1: **Label 1001 ‚Üí Forward to Next-Hop with Label 2002**
        
    - Router 2: **Label 2002 ‚Üí Forward to Next-Hop with Label 3003**
        

---

### **Step 3: Packet Exits MPLS Network (Label Removal)**

- The last router in the MPLS path is another **Label Edge Router (LER)**.
    
- It **removes the label** and **forwards the original IP packet** to the destination.
    
- This makes it **compatible with traditional IP networks**.

### What is an MPLS Network?

An **MPLS network is not a separate network**‚Äîit is an **optimized way to route traffic within an existing network** (like an ISP‚Äôs backbone or an enterprise WAN). It runs **on top of traditional IP networks** but uses **label switching** instead of standard IP routing.

### An MPLS network consists of:  
1Ô∏è‚É£ **Label Edge Routers (LERs)** ‚Üí Assign & remove MPLS labels (entry/exit points).  
2Ô∏è‚É£ **Label Switch Routers (LSRs)** ‚Üí Forward packets based on labels (inside the MPLS core).  
3Ô∏è‚É£ **Label Forwarding Tables (LFIBs)** ‚Üí Predefined paths for label-based forwarding.

### Virtual Private Network
A **VPN (Virtual Private Network)** creates a **secure, encrypted connection** between a user and a network over the Internet. It allows users to **hide their IP addresses, encrypt traffic, and securely access private networks remotely**.

### Types
#### Site-to-Site VPN (Router-to-Router VPN)
A Site-to-Site VPN securely connects multiple networks (such as branch offices) over the internet. Unlike Remote Access VPN, it is **always on** and does not require users to connect manually.

#### Remote Access VPN (Client-to-Site VPN)
A Remote Access VPN allows individual users (employees, freelancers, etc.) to securely connect to a private network **from any location** over the internet.

### **How VPN Routers Find Each Other Over the Internet**

In a **site-to-site VPN**, two routers need to securely communicate over the internet, even though they are not directly connected to each other. Here‚Äôs how they find each other and establish a secure connection:

### **1. Public IP Addresses**

- Each router has a **public IP address** assigned by their Internet Service Providers (ISPs).
    
- The **public IP address** is necessary because it‚Äôs how the router can be found on the internet.
    
- **Router1** needs to know **Router2's public IP**, and **Router2** needs to know **Router1's public IP**. This information is configured manually on each router when setting up the VPN tunnel.
    

### **2. Pre-shared Key (PSK) for Authentication**

- To establish trust between the two routers, they need a way to ensure they‚Äôre talking to the correct device.
    
- A **Pre-shared Key (PSK)** is used for **authentication**. This is essentially a password that both routers share.
    
- The PSK helps the routers verify each other's identity before continuing with the secure connection process.
    

### **3. ISAKMP (Phase 1): Secure Connection Initiation**

- The first step in the VPN process is the **ISAKMP** phase, which is a secure handshake.
    
- **ISAKMP** (Internet Security Association and Key Management Protocol) allows the routers to agree on how they‚Äôll authenticate each other and securely exchange keys.
    
- During this phase, the routers use the **Pre-shared Key (PSK)** to prove their identity to one another.
    

### **4. IPsec (Phase 2): Secure Data Encryption**

- After authentication, the routers move to **IPsec (Phase 2)**, where the actual data encryption happens.
    
- **IPsec** is the protocol used to **encrypt** and **secure** the data being transferred between the two routers.
    
- IPsec ensures that any information sent between the routers is kept **private and unaltered**, even as it passes through the internet (which is insecure).
    

### **5. Crypto Map: Binding the Configuration**

- A **crypto map** is used to bind together the **ISAKMP** and **IPsec** configurations.
    
- It tells the router to apply the VPN settings to specific traffic‚Äîlike the traffic that matches a defined **Access Control List (ACL)**.
    
- This ensures that only the selected traffic (like packets from one LAN to the other) will be encrypted and sent through the secure VPN tunnel.
    

### **6. ACL (Access Control List): Specifying Which Traffic Gets Encrypted**

- The **Access Control List (ACL)** defines what traffic should go through the VPN tunnel.
    
- The ACL specifies the source and destination IP addresses (e.g., one router‚Äôs LAN to the other router‚Äôs LAN).
    
- The router will encrypt and secure only the traffic that matches the ACL and send it through the VPN tunnel.
    

### **7. Establishing the VPN Tunnel**

- Once the configuration is done, Router1 and Router2 can start communicating.
    
- Router1 will initiate the connection, using **Router2's public IP** to reach it over the internet.
    
- After the secure handshake (using ISAKMP) and agreement on encryption (using IPsec), a **VPN tunnel** is established.
    
- This tunnel acts like a private link between the two routers, allowing them to exchange data securely.
    

### **8. Data Travel Over the VPN Tunnel**

- With the tunnel established, any **data packets** between the **LANs of the two routers** (for example, traffic from Router1‚Äôs LAN to Router2‚Äôs LAN) will be encrypted.
    
- The encryption ensures that even though the data travels over the public internet, it cannot be read or modified by outsiders.
### IPsec (Internet Protocol Security) 
<p align="justify">**IPsec (Internet Protocol Security)** is a suite of protocols used to **secure IP communication** by encrypting and authenticating packets over a network. It is commonly used in **VPNs (Virtual Private Networks)** to ensure **confidentiality, integrity, and authentication** of data transmitted between two endpoints.</p>

#### IPsec Modes:

üîπ **Transport Mode** ‚Äì Encrypts only the data (payload), leaving the IP header intact (used in end-to-end communication).  
üîπ **Tunnel Mode** ‚Äì Encrypts the entire IP packet, including the header, and encapsulates it in a new IP packet (used in VPNs).

### GRE (Generic Routing Encapsulation) Tunneling 

**GRE (Generic Routing Encapsulation)** is a tunneling protocol used to **encapsulate various network layer protocols** inside a virtual tunnel, allowing them to be transmitted over an IP network

### **How GRE Works:**

1Ô∏è‚É£ A packet is **encapsulated** with a GRE header and a new IP header.  
2Ô∏è‚É£ The encapsulated packet is **forwarded through the GRE tunnel** over the network.  
3Ô∏è‚É£ The receiving router **removes the GRE header** and processes the original packet.

### GRE Tunnel

A **GRE (Generic Routing Encapsulation) Tunnel** is a **virtual point-to-point connection** that allows packets from one network to be encapsulated inside another protocol and transmitted over an IP network. It is used to **transport non-IP or private network traffic** across an IP-based infrastructure.